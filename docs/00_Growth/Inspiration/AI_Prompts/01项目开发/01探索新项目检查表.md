### 🗺️ AI 辅助工程：探索新项目检查表 (Project Onboarding SOP)

**项目名称：** ___________________
**接手日期：** ___________________

#### 第一阶段：环境感知与基础设施探勘 (Environment & Infrastructure)

*目标：明确项目运行的物理边界和依赖层，确保本地能够顺利构建和运行。*

* **[ ] 1.1 锁定操作系统与运行环境**
* 明确目标部署环境与本地开发环境（例如：评估在 Ubuntu 环境下原生运行，或是通过 Docker 容器化运行）。
* 收集当前系统环境变量配置需求（如 `.env.example` 文件）。


* **[ ] 1.2 梳理核心技术栈与构建工具**
* 提取项目的核心配置文件并交由 AI 分析。
* *前端/跨端*：分析 `pubspec.yaml` (评估 Flutter 依赖)、`package.json` (评估 Capacitor 插件体系) 或 `neutralino.config.json`。
* *后端/服务端*：分析相应的依赖描述文件。


* 记录核心框架及其确切的版本号（用于精准约束 AI 的知识库时效）。


* **[ ] 1.3 确立本地启动与调试流**
* 梳理完整的依赖安装命令（如 `npm install`、`flutter pub get`）。
* 梳理本地启动命令和构建命令。
* 确认 IDE 工作区配置（例如：IntelliJ IDEA 的 `.idea` 目录配置、调试配置、运行配置是否完备）。



#### 第二阶段：架构蓝图与代码库拓扑解析 (Architecture & Codebase Mapping)

*目标：避免 AI “盲人摸象”，通过宏观结构划分，建立项目的“信息架构图”。*

* **[ ] 2.1 提取根目录结构树**
* 使用 `tree` 命令（或类似工具）生成目录结构树（排除 `node_modules`、`.git` 等无关目录）。
* 将结构树喂给 AI，要求其推断项目的分层逻辑（如路由层、视图层、状态管理层、网络请求层）。


* **[ ] 2.2 识别关键架构节点**
* **入口文件：** 找出应用的生命周期起点（如 `main.dart`、`index.ts`）。
* **路由分发：** 梳理应用的核心页面流转逻辑。
* **状态管理：** 确认项目使用的是哪种状态管理方案，以及全局状态的存储位置。
* **本地存储/数据库：** 确认数据持久化方案（如 SQLite、SharedPreferences、IndexedDB）。


* **[ ] 2.3 提取通用规范与资产**
* 定位全局样式文件、UI 组件库位置。
* 定位全局工具类（Utils/Helpers）和网络请求封装层。



#### 第三阶段：核心业务流与领域逻辑追踪 (Core Business Flow Tracing)

*目标：从用户视角出发，贯穿前后端，理解系统是“做什么”的。*

* **[ ] 3.1 核心数据结构 (Data Models)**
* 寻找并记录项目中定义核心业务实体的模型类或接口定义。
* 明确这些数据模型之间的关联关系。


* **[ ] 3.2 外部接口与依赖集成 (API & Integrations)**
* 梳理项目调用的关键外部服务（例如：Dify 等 AI 服务的 API 接入点、WebSocket 连接点）。
* 记录局域网通信或特定网络协议的实现位置。


* **[ ] 3.3 核心功能的代码走查**
* 挑选 1-2 个该项目最核心的用户故事（如“发送一条消息并接收 AI 响应”），追踪其从 UI 点击 -> 状态更新 -> 网络请求 -> 数据处理 -> UI 重新渲染的完整代码链路。



#### 第四阶段：上下文工程资产构建 (Context Engineering Assets)

*目标：为后续的 AI 对话准备高质量的“背景资料包”，区分有损和无损上下文。*

* **[ ] 4.1 核心模块摘要（有损上下文）**
* 对于非核心文件、通用工具类，让 AI 生成摘要文档。在后续提问时，只提供这些摘要，节省 Token。


* **[ ] 4.2 关键逻辑快照（无损上下文）**
* 对于核心业务逻辑、极其复杂的算法文件，保持原样。在后续提问时，必须全量提供。


* **[ ] 4.3 整理已有文档**
* 汇总现有的 PRD、API 文档、架构图等，作为 AI 的背景知识库（RAG 的输入）。



#### 第五阶段：信息缺口与技术风险排查 (Gap Identification & Risk Assessment)

*目标：利用 AI 的审查能力，找出项目中潜在的“坑”。*

* **[ ] 5.1 历史技术债识别**
* 要求 AI 分析核心文件，指出明显违反最佳实践、命名不规范或逻辑过度耦合的地方。


* **[ ] 5.2 缺失信息反问 (AI 追问机制)**
* 向 AI 发出指令：“基于以上提供的项目上下文，如果你现在要在这个项目中新增一个功能，你认为当前**最缺乏**的关键信息是什么？（如缺失的 API 密钥、未说明的鉴权机制等）”。


* **[ ] 5.3 制定初步的重构或演进计划**
* 根据找出的信息缺口和技术风险，制定项目接手后的第一步行动计划（如：先补充某个模块的单元测试，或先梳理某一段乱码逻辑）。



---

### 💡 提示词工程使用建议

当你在你的工作流中要向 AI 提供这个新项目的信息时，你可以将上述搜集到的信息结构化，使用类似以下的**提示词模板**喂给 AI：

```markdown
# 角色：系统架构师与代码分析专家
你现在需要协助我接手并理解一个新项目。以下是我为你整理的【项目全局上下文】：

## 1. 环境与技术栈
- **运行环境:** [填入系统/环境]
- **核心框架:** [填入框架及版本]
- **关键依赖:** [填入关键库]

## 2. 目录架构树
[粘贴 tree 命令输出的结果]

## 3. 核心业务逻辑摘要
- **入口点:** [文件路径]
- **状态管理:** [说明]
- **关键外部调用:** [说明]

## 任务：
1. 请阅读以上信息，总结该项目的核心分层架构。
2. 请告诉我，基于目前的结构，如果我要深入理解其【局域网通信/特定功能】逻辑，我接下来应该重点查看树结构中的哪几个文件？
3. 指出当前信息中存在的任何逻辑断层或信息缺口。

```
